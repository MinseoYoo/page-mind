# ì‹¬ë¦¬ ìƒë‹´ ì±—ë´‡ + ë„ì„œ ì¶”ì²œ ì‹œìŠ¤í…œ (CrewAI Multi-Agent)

**CrewAI ë©€í‹° ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œ** ê¸°ë°˜ ì‹¬ë¦¬ ìƒë‹´ ë° ë„¤ì´ë²„ ë„ì„œ ê²€ìƒ‰ APIë¥¼ í™œìš©í•œ ë§ì¶¤í˜• ë„ì„œ ì¶”ì²œ ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

## ğŸ¤– ë©€í‹° ì—ì´ì „íŠ¸ ì•„í‚¤í…ì²˜

ì´ ì‹œìŠ¤í…œì€ **3ê°œì˜ ì „ë¬¸ AI ì—ì´ì „íŠ¸**ê°€ ìˆœì°¨ì ìœ¼ë¡œ í˜‘ë ¥í•˜ì—¬ ì‘ë™í•©ë‹ˆë‹¤:

1. **Counselor Agent** ğŸ§‘â€âš•ï¸
   - ê³µê°ì  ê²½ì²­ê³¼ í•µì‹¬ ì •ë³´ ìˆ˜ì§‘
   - SKILL.md ì‚¬íšŒì‹¬ë¦¬í•™ ì›ë¦¬ ì ìš©
   - **LLMì´ ì •ë³´ ì¶©ë¶„ì„±ì„ ììœ¨ íŒë‹¨** (Tool Calling)
   - 3-6í„´ ìì—°ìŠ¤ëŸ¬ìš´ ëŒ€í™”

2. **Psychological Analyzer Agent** ğŸ§ 
   - SKILL.md í”„ë ˆì„ì›Œí¬ ê¸°ë°˜ 6ë‹¨ê³„ ì‹¬ì¸µ ë¶„ì„
   - ì¸ì§€/ì‚¬íšŒ/ì„ìƒ/ë°œë‹¬/ì‹ ê²½ê³¼í•™ í†µí•©
   - Biopsychosocial ëª¨ë¸ ì ìš©

3. **Book Recommender Agent** ğŸ“š
   - ì‹¬ë¦¬ ë¶„ì„ ê²°ê³¼ ê¸°ë°˜ ë§ì¶¤ ë„ì„œ ê²€ìƒ‰
   - ë„¤ì´ë²„ ë„ì„œ API í™œìš©
   - ë…ì„œ ì¹˜ë£Œ(Bibliotherapy) ì „ë¬¸

## ğŸ“‹ ëª©ì°¨

- [ì£¼ìš” ê¸°ëŠ¥](#-ì£¼ìš”-ê¸°ëŠ¥)
- [ê¸°ìˆ  ìŠ¤íƒ](#-ê¸°ìˆ -ìŠ¤íƒ)
- [í”„ë¡œì íŠ¸ êµ¬ì¡°](#-í”„ë¡œì íŠ¸-êµ¬ì¡°)
- [ì„¤ì¹˜ ë°©ë²•](#-ì„¤ì¹˜-ë°©ë²•)
- [ì‚¬ìš© ë°©ë²•](#-ì‚¬ìš©-ë°©ë²•)
- [ì‹¬ì¸µ ë¶„ì„ í”„ë¡œì„¸ìŠ¤](#-ì‹¬ì¸µ-ë¶„ì„-í”„ë¡œì„¸ìŠ¤-skillmd-ê¸°ë°˜)
- [í•˜ì´ë¸Œë¦¬ë“œ ë„ì„œ ë­í‚¹ ì•Œê³ ë¦¬ì¦˜](#-í•˜ì´ë¸Œë¦¬ë“œ-ë„ì„œ-ë­í‚¹-ì•Œê³ ë¦¬ì¦˜)
- [API ì—”ë“œí¬ì¸íŠ¸](#-api-ì—”ë“œí¬ì¸íŠ¸)
- [ì˜ˆì‹œ](#-ì˜ˆì‹œ)
- [í™˜ê²½ ë³€ìˆ˜](#-í™˜ê²½-ë³€ìˆ˜)
- [ë¬¸ì œ í•´ê²°](#-ë¬¸ì œ-í•´ê²°)

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

### 1. ì‹¬ë¦¬ ìƒë‹´ ì±—ë´‡ (ê²½ì²­ ì¤‘ì‹¬)
- **ê³µê°ì  ê²½ì²­**: ê°ì • ë°˜ì˜ê³¼ ë¹„íŒë‹¨ì  ìˆ˜ìš©
- **íƒìƒ‰ì  ì§ˆë¬¸**: ë¶€ë“œëŸ½ê³  ê°œë°©ì ì¸ ì§ˆë¬¸ìœ¼ë¡œ ì´í•´ ì‹¬í™”
- **ì§€ì§€ì  ì¡´ì¬**: ë”°ëœ»í•œ ê²©ë ¤ì™€ ê°•ì  ë°œê²¬
- ì§§ê³  ìì—°ìŠ¤ëŸ¬ìš´ ëŒ€í™” íë¦„ (2-4ë¬¸ì¥)

### 2. ì‹¬ì¸µ ì‹¬ë¦¬ ë¶„ì„ (SKILL.md ê¸°ë°˜)
- **6ë‹¨ê³„ ì²´ê³„ì  ë¶„ì„**: Tool Callingì„ í™œìš©í•œ ì „ë¬¸ ë¶„ì„
  1. ì‹¬ë¦¬í•™ì  í˜„ìƒ ì •ì˜
  2. ì´ë¡  ì ìš© (ì¸ì§€, ì‚¬íšŒ, ì„ìƒ, ë°œë‹¬, ì‹ ê²½ê³¼í•™)
  3. ì¸ì§€ ê³¼ì • ë¶„ì„ (í¸í–¥, íœ´ë¦¬ìŠ¤í‹±, ì •ë³´ì²˜ë¦¬)
  4. ê°ì • ë° ë™ê¸° ìš”ì¸ ê²€í† 
  5. ì‚¬íšŒì  ë° ìƒí™©ì  ì˜í–¥ í‰ê°€
  6. ì •ì‹ ê±´ê°• ì°¨ì› í‰ê°€
- **Biopsychosocial í†µí•©**: ìƒë¬¼í•™ì , ì‹¬ë¦¬ì , ì‚¬íšŒì  ìš”ì¸ í†µí•© ë¶„ì„
- 5íšŒ ì´ìƒ ëŒ€í™” í›„ ìë™ ì‹¤í–‰

### 3. ë„ì„œ ì¶”ì²œ (í•˜ì´ë¸Œë¦¬ë“œ ë­í‚¹)
- **ë„¤ì´ë²„ ë„ì„œ ê²€ìƒ‰ API í™œìš©**: ì‹¤ì‹œê°„ ë„ì„œ ë°ì´í„°
- **ì‹¬ë¦¬ ë¶„ì„ ê²°ê³¼ ê¸°ë°˜ ë§ì¶¤ ê²€ìƒ‰**: í‚¤ì›Œë“œ ìë™ ìƒì„±
- **í•˜ì´ë¸Œë¦¬ë“œ ë­í‚¹ ì•Œê³ ë¦¬ì¦˜**:
  - ğŸ“… **ìµœì‹ ì„± ì ìˆ˜** (40%): ì¶œíŒì¼ ê¸°ë°˜ ì§€ìˆ˜ ê°ì‡ 
  - ğŸ¯ **ê´€ë ¨ë„ ì ìˆ˜** (40%): ê²€ìƒ‰ ìˆœìœ„ ê¸°ë°˜ ë¡œê·¸ ìŠ¤ì¼€ì¼
  - ğŸ“š **ì¥ë¥´ ë§¤ì¹­ ì ìˆ˜** (20%): ì‚¬ìš©ì ì„ í˜¸ ì¥ë¥´ í‚¤ì›Œë“œ ë§¤ì¹­
- **Claude AI ì¶”ì²œ ì´ìœ **: ê° ë„ì„œë³„ ì‹¬ë¦¬ì  ì—°ê´€ì„± ì„¤ëª…

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

### Multi-Agent Framework
- **CrewAI** - ë©€í‹° ì—ì´ì „íŠ¸ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜
- **Sequential Workflow** - ìˆœì°¨ì  ì—ì´ì „íŠ¸ ì‹¤í–‰

### Backend
- **Python 3.12+** - í”„ë¡œê·¸ë˜ë° ì–¸ì–´
- **Pydantic** - ë°ì´í„° ê²€ì¦ ë° ëª¨ë¸ë§
- **uv** - ë¹ ë¥¸ Python íŒ¨í‚¤ì§€ ê´€ë¦¬ì (ì„ íƒì‚¬í•­)

### AI/ML
- **Anthropic Claude Sonnet 4** - ìµœì‹  ì–¸ì–´ ëª¨ë¸
- **Tool Calling** - êµ¬ì¡°í™”ëœ ì‹¬ë¦¬ ë¶„ì„
- **SKILL.md Framework** - ì‹¬ë¦¬í•™ ë¶„ì„ í”„ë ˆì„ì›Œí¬
- **Hybrid Ranking Algorithm** - ë‹¤ì°¨ì› ë„ì„œ ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜
  - ì§€ìˆ˜ ê°ì‡  ê¸°ë°˜ ìµœì‹ ì„± í‰ê°€
  - ë¡œê·¸ ìŠ¤ì¼€ì¼ ê´€ë ¨ë„ ì ìˆ˜
  - í‚¤ì›Œë“œ ê¸°ë°˜ ì¥ë¥´ ë§¤ì¹­

### External APIs
- **Naver Search API** - ë„ì„œ ê²€ìƒ‰

### UI
- **Gradio** - ì‚¬ìš©ì ì¹œí™”ì  ì›¹ ì¸í„°í˜ì´ìŠ¤

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡° (CrewAI Multi-Agent)

```
pagemind/
â”œâ”€â”€ core_crewai/                   # í•µì‹¬ ëª¨ë“ˆ (CrewAI ê¸°ë°˜)
â”‚   â”œâ”€â”€ __init__.py                # íŒ¨í‚¤ì§€ ì´ˆê¸°í™”
â”‚   â”œâ”€â”€ config.py                  # ì„¤ì • ê´€ë¦¬ (API í‚¤, CrewAI ì„¤ì •)
â”‚   â”œâ”€â”€ models.py                  # Pydantic ë°ì´í„° ëª¨ë¸
â”‚   â”‚   â”œâ”€â”€ Message, PsychologicalSummary
â”‚   â”‚   â””â”€â”€ BookRecommendation, CounselingResult
â”‚   â”‚
â”‚   â”œâ”€â”€ agents.py                  # CrewAI ì—ì´ì „íŠ¸ ì •ì˜
â”‚   â”‚   â”œâ”€â”€ create_counselor_agent()
â”‚   â”‚   â”œâ”€â”€ create_psychological_analyzer_agent()
â”‚   â”‚   â””â”€â”€ create_book_recommender_agent()
â”‚   â”‚
â”‚   â”œâ”€â”€ tasks.py                   # CrewAI íƒœìŠ¤í¬ ì •ì˜
â”‚   â”‚   â”œâ”€â”€ create_counseling_task()
â”‚   â”‚   â”œâ”€â”€ create_analysis_task()
â”‚   â”‚   â””â”€â”€ create_book_recommendation_task()
â”‚   â”‚
â”‚   â”œâ”€â”€ crew_orchestrator.py      # ë©€í‹° ì—ì´ì „íŠ¸ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°
â”‚   â”‚   â””â”€â”€ CrewOrchestrator (ì›Œí¬í”Œë¡œìš° ê´€ë¦¬)
â”‚   â”‚
â”‚   â”œâ”€â”€ counselor_tools.py         # Counselor Agent Tool (ë¶„ì„ ì¤€ë¹„ ì‹ í˜¸)
â”‚   â”œâ”€â”€ crewai_tools.py            # CrewAI Tools (ë„¤ì´ë²„ ë„ì„œ ê²€ìƒ‰)
â”‚   â””â”€â”€ book_reranker.py           # í•˜ì´ë¸Œë¦¬ë“œ ë„ì„œ ë­í‚¹ ì•Œê³ ë¦¬ì¦˜
â”‚       â””â”€â”€ ë‚ ì§œ/ê´€ë ¨ë„/ì¥ë¥´ ê¸°ë°˜ ìŠ¤ë§ˆíŠ¸ ì¬ì •ë ¬
â”‚
â”œâ”€â”€ app_gradio.py                  # Gradio ì›¹ ì•± (ë©”ì¸)
â”‚   â””â”€â”€ CrewOrchestrator í†µí•©
â”‚
â”œâ”€â”€ SKILL.md                       # ì‹¬ë¦¬í•™ ë¶„ì„ í”„ë ˆì„ì›Œí¬ (ì°¸ê³  ë¬¸ì„œ)
â”œâ”€â”€ requirements.txt               # Python ì˜ì¡´ì„± (CrewAI í¬í•¨)
â”œâ”€â”€ pyproject.toml                 # í”„ë¡œì íŠ¸ ë©”íƒ€ë°ì´í„° (uv íŒ¨í‚¤ì§€ ê´€ë¦¬)
â”œâ”€â”€ uv.lock                        # uv ì˜ì¡´ì„± ì ê¸ˆ íŒŒì¼
â””â”€â”€ .env                           # í™˜ê²½ ë³€ìˆ˜
```

### ì•„í‚¤í…ì²˜ í”Œë¡œìš°

```mermaid
graph LR
    User[User] -->|Message| Counselor[Counselor Agent]
    Counselor -->|Conversation Data| Analyzer[Psychological Analyzer Agent]
    Analyzer -->|PsychologicalSummary| Recommender[Book Recommender Agent]
    Recommender -->|BookRecommendations| User
    
    SKILLMD[SKILL.md Framework] -.->|Strong Integration| Analyzer
    SKILLMD -.->|Light Reference| Counselor
```

## ğŸš€ ì„¤ì¹˜ ë°©ë²•

### 1. í•„ìˆ˜ ìš”êµ¬ì‚¬í•­

- **Python 3.12 ì´ìƒ** (í•„ìˆ˜)
- **pip** ë˜ëŠ” **uv** íŒ¨í‚¤ì§€ ê´€ë¦¬ì
- **ë„¤ì´ë²„ ê°œë°œì ê³„ì •** (API í‚¤ í•„ìš”)
- **Anthropic API í‚¤**

#### Python ë²„ì „ í™•ì¸ ë° ì„¤ì¹˜ (Mac)

```bash
# í˜„ì¬ Python ë²„ì „ í™•ì¸
python3 --version

# Python 3.12 ë¯¸ë§Œì¸ ê²½ìš° Homebrewë¡œ ì„¤ì¹˜ (ê¶Œì¥)
brew install python@3.12

# ë˜ëŠ” pyenv ì‚¬ìš©
brew install pyenv
pyenv install 3.12.0
pyenv local 3.12.0

# ì„¤ì¹˜ í›„ ë²„ì „ í™•ì¸
python3.12 --version
```

**ì¤‘ìš”**: `crewai>=0.28.0`ì€ Python 3.10 ì´ìƒì´ í•„ìš”í•˜ë©°, ì´ í”„ë¡œì íŠ¸ëŠ” Python 3.12+ë¥¼ ê¶Œì¥í•©ë‹ˆë‹¤.

### 2. í”„ë¡œì íŠ¸ í´ë¡ 

```bash
git clone <repository-url>
cd play-with-mcp
```

### 3. ì˜ì¡´ì„± ì„¤ì¹˜

#### ë°©ë²• 1: pip ì‚¬ìš© (ê¸°ë³¸)

```bash
pip install -r requirements.txt
```

#### ë°©ë²• 2: uv ì‚¬ìš© (ë¹ ë¥¸ ì„¤ì¹˜, ê¶Œì¥)

```bash
# uv ì„¤ì¹˜ (ì²˜ìŒ í•œ ë²ˆë§Œ)
pip install uv
# ë˜ëŠ” Mac: brew install uv

# Python 3.12 ëª…ì‹œì  ì„¤ì • (í•„ìˆ˜!)
uv python pin 3.12

# ê°€ìƒí™˜ê²½ ìƒì„± ë° ì˜ì¡´ì„± ì„¤ì¹˜
uv sync  # pyproject.toml ê¸°ë°˜ (ë¹ˆ dependenciesì¸ ê²½ìš°)
uv pip install -r requirements.txt  # requirements.txt ê¸°ë°˜

# ì•± ì‹¤í–‰ (uv í™˜ê²½ì—ì„œ)
uv run python app_gradio.py
```

**ì¤‘ìš”**: uv í™˜ê²½ì—ì„œëŠ” `uv python pin 3.12`ë¡œ Python ë²„ì „ì„ ëª…ì‹œì ìœ¼ë¡œ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤.

ì£¼ìš” ì˜ì¡´ì„±:
- `crewai>=0.28.0` - ë©€í‹° ì—ì´ì „íŠ¸ í”„ë ˆì„ì›Œí¬
- `anthropic>=0.40.0` - Claude AI
- `gradio>=4.0.0` - ì›¹ UI
- `pydantic>=2.5.0` - ë°ì´í„° ëª¨ë¸

### 4. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

`.env` íŒŒì¼ì„ ìƒì„±í•˜ê³  API í‚¤ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤:

```bash
cp env.example .env
```

`.env` íŒŒì¼ ë‚´ìš©:
```env
ANTHROPIC_API_KEY=your-anthropic-api-key
NAVER_CLIENT_ID=your-naver-client-id
NAVER_CLIENT_SECRET=your-naver-client-secret
```

### 5. ë„¤ì´ë²„ API í‚¤ ë°œê¸‰

1. [ë„¤ì´ë²„ ê°œë°œì ì„¼í„°](https://developers.naver.com/) ì ‘ì†
2. ì• í”Œë¦¬ì¼€ì´ì…˜ ë“±ë¡
3. ê²€ìƒ‰ API ì‚¬ìš© ì‹ ì²­
4. Client IDì™€ Client Secret í™•ì¸

## ğŸ’» ì‚¬ìš© ë°©ë²•

### Gradio ì›¹ ì•± ì‹¤í–‰

#### ë°©ë²• 1: ì¼ë°˜ Python í™˜ê²½

```bash
python app_gradio.py
# ë˜ëŠ”
python3.12 app_gradio.py
```

#### ë°©ë²• 2: uv í™˜ê²½ (ê¶Œì¥)

```bash
# uv í™˜ê²½ì—ì„œ ì‹¤í–‰
uv run python app_gradio.py
```

ë¸Œë¼ìš°ì €ê°€ ìë™ìœ¼ë¡œ ì—´ë¦½ë‹ˆë‹¤ (http://localhost:7860)

**ì‚¬ìš© íë¦„:**

1. **ìƒë‹´ ë‹¨ê³„** (1-5íšŒ)
   - ì±—ë´‡ê³¼ ììœ ë¡­ê²Œ ëŒ€í™”
   - ê²½ì²­ê³¼ íƒìƒ‰ ì§ˆë¬¸ ì¤‘ì‹¬ì˜ ê³µê°ì  ìƒë‹´
   - ì§§ê³  ë”°ëœ»í•œ ì‘ë‹µ

2. **ìë™ ë¶„ì„** (5íšŒ ëŒ€í™” í›„)
   - SKILL.md ê¸°ë°˜ 6ë‹¨ê³„ ì‹¬ì¸µ ë¶„ì„ ìë™ ì‹¤í–‰
   - Tool Callingìœ¼ë¡œ êµ¬ì¡°í™”ëœ ì‹¬ë¦¬í•™ì  í‰ê°€
   - ì£¼ìš” ê³ ë¯¼, ê°ì •, ì¸ì§€ íŒ¨í„´, ê¶Œì¥ ì „ëµ ì œì‹œ

3. **ë„ì„œ ì¶”ì²œ** (ë¶„ì„ í›„)
   - "ğŸ“š ì±… ì¶”ì²œë°›ê¸°" ë²„íŠ¼ í´ë¦­
   - ë¶„ì„ ê²°ê³¼ ê¸°ë°˜ ë§ì¶¤ ë„ì„œ ê²€ìƒ‰
   - ê° ë„ì„œë³„ ì¶”ì²œ ì´ìœ  ì œê³µ

**ì£¼ìš” ê¸°ëŠ¥:**
- ì‹¤ì‹œê°„ ì±„íŒ… ì¸í„°í˜ì´ìŠ¤
- ëŒ€í™” ê¸°ë¡ ì´ˆê¸°í™”/ë‚´ë³´ë‚´ê¸°
- ì‹¬ë¦¬ ë¶„ì„ ê²°ê³¼ ì‹œê°í™”
- ì¶”ì²œ ë„ì„œ ìƒì„¸ ì •ë³´ (í‘œì§€, ë§í¬ í¬í•¨)

## ğŸ§ª í…ŒìŠ¤íŠ¸

### 1. í†µí•© í…ŒìŠ¤íŠ¸ ì‹¤í–‰

```bash
python test_crewai_integration.py
```

í…ŒìŠ¤íŠ¸ ë‚´ìš©:
- **í…ŒìŠ¤íŠ¸ 1**: Counselor Agentì™€ ëŒ€í™”
- **í…ŒìŠ¤íŠ¸ 2**: Psychological Analyzer Agent ë¶„ì„
- **í…ŒìŠ¤íŠ¸ 3**: Book Recommender Agent ì¶”ì²œ
- **í…ŒìŠ¤íŠ¸ 4**: ì „ì²´ ì›Œí¬í”Œë¡œìš° (Sequential)

### 2. Gradio ì›¹ ì•± í…ŒìŠ¤íŠ¸

```bash
python app_gradio.py
```

1. **ê¸°ë³¸ ìƒë‹´ ëª¨ë“œ**: Counselor Agentì™€ ëŒ€í™”
2. **ì‹¬ì¸µ ë¶„ì„**: 5íšŒ ì´ìƒ ëŒ€í™” í›„ Analyzer Agent ìë™ ì‹¤í–‰
3. **ë„ì„œ ì¶”ì²œ**: Recommender Agentë¥¼ í†µí•œ ë§ì¶¤ ë„ì„œ ì œê³µ

## ğŸ”¬ ì‹¬ì¸µ ë¶„ì„ í”„ë¡œì„¸ìŠ¤ (SKILL.md ê¸°ë°˜)

### ë©€í‹° ì—ì´ì „íŠ¸ ì•„í‚¤í…ì²˜

ì‹œìŠ¤í…œì€ **CrewAI Sequential Workflow**ë¥¼ ë”°ë¦…ë‹ˆë‹¤:

- **Counselor Agent**: ê²½ì²­ê³¼ ë°ì´í„° ìˆ˜ì§‘ (ê°€ë³ê³  ë¹ ë¦„, 3-5í„´)
- **Psychological Analyzer Agent**: SKILL.md í”„ë ˆì„ì›Œí¬ ê¸°ë°˜ ì²´ê³„ì  ë¶„ì„ (ê¹Šê³  ì „ë¬¸ì )
- **Book Recommender Agent**: ì‹¬ë¦¬ ë¶„ì„ ê²°ê³¼ ê¸°ë°˜ ë§ì¶¤ ë„ì„œ ì¶”ì²œ

### SKILL.md í†µí•© ìˆ˜ì¤€

- **Counselor Agent**: ğŸ”µ Light Integration
  - ì‚¬íšŒì‹¬ë¦¬í•™ì˜ ê³µê° ì›ë¦¬ ì°¸ê³ 
  - ì£¼ìš” ëª©í‘œëŠ” ì •ë³´ ìˆ˜ì§‘
  
- **Psychological Analyzer Agent**: ğŸ”´ Strong Integration
  - SKILL.md ì „ì²´ í”„ë ˆì„ì›Œí¬ ë‚´ì¥
  - 6ë‹¨ê³„ ì²´ê³„ì  ë¶„ì„ ìˆ˜í–‰
  - 5ê°œ ì´ë¡ ì  ê¸°ì´ˆ (ì¸ì§€/ì‚¬íšŒ/ì„ìƒ/ë°œë‹¬/ì‹ ê²½ê³¼í•™) ì ìš©

### 6ë‹¨ê³„ Tool Calling ë¶„ì„

5íšŒ ì´ìƒ ëŒ€í™” í›„, Psychological Analyzer Agent (CrewAI)ê°€ SKILL.md í”„ë ˆì„ì›Œí¬ë¥¼ í™œìš©í•˜ì—¬ ë‹¤ìŒ 6ë‹¨ê³„ ë¶„ì„ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤:

#### 1ë‹¨ê³„: ì‹¬ë¦¬í•™ì  í˜„ìƒ ì •ì˜
- ê´€ì°°ë˜ëŠ” í–‰ë™/ì‚¬ê³  íŒ¨í„´ ì‹ë³„
- ìƒí™©ì  ë§¥ë½ íŒŒì•… (ëˆ„ê°€, ì–¸ì œ, ì–´ë””ì„œ)
- ë¶„ì„ ìˆ˜ì¤€ ê²°ì • (ê°œì¸/ëŒ€ì¸ê´€ê³„/ì§‘ë‹¨)
- ê´€ë ¨ ì‹¬ë¦¬í•™ ì˜ì—­ ì„ ì •

#### 2ë‹¨ê³„: ì´ë¡  ì ìš©
- **ì¸ì§€ì‹¬ë¦¬í•™**: Dual-process, í¸í–¥, íœ´ë¦¬ìŠ¤í‹±
- **ì‚¬íšŒì‹¬ë¦¬í•™**: ê·€ì¸, ë™ì¡°, ìƒí™©ì˜ í˜
- **ì„ìƒì‹¬ë¦¬í•™**: CBT, Stress-Coping, DSM-5
- **ë°œë‹¬ì‹¬ë¦¬í•™**: ìƒì• ì£¼ê¸°, ì• ì°©, ë°œë‹¬ ê³¼ì œ
- **ì‹ ê²½ê³¼í•™**: ë‡Œ êµ¬ì¡°, ì‹ ê²½ì „ë‹¬ë¬¼ì§ˆ, ìŠ¤íŠ¸ë ˆìŠ¤ ìƒë¦¬

#### 3ë‹¨ê³„: ì¸ì§€ ê³¼ì • ë¶„ì„
- ì¸ì§€ í¸í–¥ ì‹ë³„ (í™•ì¦í¸í–¥, ê°€ìš©ì„± íœ´ë¦¬ìŠ¤í‹± ë“±)
- ì‚¬ê³  íŒ¨í„´ ë¶„ì„ (ìë™ì  ì‚¬ê³ , ì¸ì§€ ì™œê³¡)
- ì˜ì‚¬ê²°ì • ê³¼ì • (System 1/2)
- ì •ë³´ì²˜ë¦¬ ë°©ì‹ (ì£¼ì˜, ê¸°ì–µ, íŒë‹¨)

#### 4ë‹¨ê³„: ê°ì • ë° ë™ê¸° ìš”ì¸
- ì£¼ìš” ê°ì • ìƒíƒœ íŒŒì•…
- ê°ì • ì¡°ì ˆ ë°©ì‹ í‰ê°€
- ë™ê¸° ë¶„ì„ (ììœ¨ì„±, ì—­ëŸ‰, ê´€ê³„ì„±)
- ì‹¬ë¦¬ì  ìš•êµ¬ í‰ê°€ (Maslow, SDT)

#### 5ë‹¨ê³„: ì‚¬íšŒì  ë° ìƒí™©ì  ì˜í–¥
- ìƒí™©ì˜ í˜ ë¶„ì„ (ê¶Œìœ„, ê·œë²”, ì—­í• )
- ì‚¬íšŒì  ì˜í–¥ (ë™ì¡°, ë³µì¢…, ì„¤ë“)
- ì§‘ë‹¨ ì—­í•™ (ì§‘ë‹¨ì‚¬ê³ , ì‚¬íšŒì  ì´‰ì§„)
- ê°œì¸-ìƒí™© ìƒí˜¸ì‘ìš©

#### 6ë‹¨ê³„: ì •ì‹ ê±´ê°• í‰ê°€
- ê³ í†µ ìˆ˜ì¤€ í‰ê°€ (minimal/mild/moderate/severe)
- ì¼ìƒ ê¸°ëŠ¥ ì˜í–¥ ë¶„ì„
- ìœ„í—˜ ìš”ì¸ ì‹ë³„ (ì·¨ì•½ì„±)
- ë³´í˜¸ ìš”ì¸ íŒŒì•… (íšŒë³µíƒ„ë ¥ì„±)
- ì„ìƒì  ê³ ë ¤ì‚¬í•­ (ì •ìƒ vs ë³‘ë¦¬ì )

### Biopsychosocial í†µí•©

ëª¨ë“  ë¶„ì„ì€ ë‹¤ìŒ ì„¸ ì°¨ì›ì„ í†µí•©í•©ë‹ˆë‹¤:

- **ìƒë¬¼í•™ì **: ìœ ì „, ë‡Œ êµ¬ì¡°, ì‹ ê²½ì „ë‹¬ë¬¼ì§ˆ, ì‹ ì²´ ê±´ê°•
- **ì‹¬ë¦¬ì **: ì¸ì§€, ê°ì •, ì„±ê²©, í•™ìŠµ ì´ë ¥
- **ì‚¬íšŒì **: ê´€ê³„, ë¬¸í™”, ì‚¬íšŒê²½ì œì  ì§€ìœ„, ì°¨ë³„

### ìµœì¢… ì‚°ì¶œë¬¼

ë¶„ì„ ì™„ë£Œ í›„ ë‹¤ìŒ ì •ë³´ê°€ ìƒì„±ë©ë‹ˆë‹¤:

- ì£¼ìš” ê³ ë¯¼ ëª©ë¡
- ê°ì • ìƒíƒœ ë¶„ì„
- ì¸ì§€ íŒ¨í„´ ì‹ë³„
- ê¶Œì¥ ì „ëµ ì œì‹œ
- ë„ì„œ ê²€ìƒ‰ í‚¤ì›Œë“œ (ì‹¬ë¦¬í•™ ìš©ì–´ + ì¼ë°˜ ë‹¨ì–´)

## ğŸ“Š í•˜ì´ë¸Œë¦¬ë“œ ë„ì„œ ë­í‚¹ ì•Œê³ ë¦¬ì¦˜

### ì•Œê³ ë¦¬ì¦˜ ê°œìš”

Book Recommender AgentëŠ” ë„¤ì´ë²„ ë„ì„œ API ê²€ìƒ‰ ê²°ê³¼ë¥¼ **í•˜ì´ë¸Œë¦¬ë“œ ë­í‚¹ ì•Œê³ ë¦¬ì¦˜**ìœ¼ë¡œ ì¬ì •ë ¬í•˜ì—¬ ìµœì ì˜ ë„ì„œë¥¼ ì¶”ì²œí•©ë‹ˆë‹¤.

### 3ê°€ì§€ í‰ê°€ ì°¨ì›

#### 1. ìµœì‹ ì„± ì ìˆ˜ (Recency Score) - 40%

```python
score = 0.5 ^ (years_ago / half_life)
```

- **ì§€ìˆ˜ ê°ì‡  ëª¨ë¸**: ì¶œíŒì¼ì´ ì˜¤ë˜ë ìˆ˜ë¡ ì ìˆ˜ ê°ì†Œ
- **ë°˜ê°ê¸° 3ë…„**: 3ë…„ ì „ ì±…ì€ ìµœê·¼ ì±…ì˜ 50% ì ìˆ˜
- **ë²”ìœ„**: 0.0 ~ 1.0 (ìµœê·¼ ì±…ì¼ìˆ˜ë¡ 1.0ì— ê°€ê¹Œì›€)

#### 2. ê´€ë ¨ë„ ì ìˆ˜ (Relevance Score) - 40%

```python
score = 1.0 - log(1 + normalized_position * 9) / log(10)
```

- **ë¡œê·¸ ìŠ¤ì¼€ì¼**: ê²€ìƒ‰ ê²°ê³¼ ìƒìœ„ê¶Œì¼ìˆ˜ë¡ ë†’ì€ ì ìˆ˜
- **ìœ„ì¹˜ ê¸°ë°˜**: ë„¤ì´ë²„ APIì˜ ê²€ìƒ‰ ìˆœìœ„ ë°˜ì˜
- **ë²”ìœ„**: 0.0 ~ 1.0 (1ìœ„ëŠ” 1.0, ìˆœìœ„ê°€ ë‚®ì„ìˆ˜ë¡ ê°ì†Œ)

#### 3. ì¥ë¥´ ë§¤ì¹­ ì ìˆ˜ (Genre Match Score) - 20%

```python
keywords = genre_keywords[preferred_genre]
matches = count_keyword_matches(title, description, keywords)
```

- **í‚¤ì›Œë“œ ë§¤ì¹­**: ì œëª© + ì„¤ëª…ì—ì„œ ì¥ë¥´ë³„ í‚¤ì›Œë“œ íƒìƒ‰
- **ì§€ì› ì¥ë¥´**:
  - ìê¸°ê³„ë°œ (ì„±ì¥, ìŠµê´€, ëª©í‘œ, ë™ê¸°ë¶€ì—¬)
  - ì‹¬ë¦¬í•™ (ë§ˆìŒ, ê°ì •, ì¹˜ìœ , íšŒë³µ)
  - ì†Œì„¤ (ì´ì•¼ê¸°, í”½ì…˜, ë¬¸í•™)
  - ì—ì„¸ì´ (ìˆ˜í•„, ì¼ìƒ, ê²½í—˜)
  - ì¸ë¬¸ (ì² í•™, ì‚¬íšŒ, ì—­ì‚¬)
  - ê²½ì œ/ê²½ì˜ (ë¹„ì¦ˆë‹ˆìŠ¤, ë§ˆì¼€íŒ…, ë¦¬ë”ì‹­)
- **ì ìˆ˜**: 1.0 (ê°•í•œ ë§¤ì¹­) / 0.7 (ì•½í•œ ë§¤ì¹­) / 0.3 (ë§¤ì¹­ ì—†ìŒ)

### ìµœì¢… ì ìˆ˜ ê³„ì‚°

```python
final_score = 0.4 * recency + 0.4 * relevance + 0.2 * genre_match
```

**ê°€ì¤‘ì¹˜ ì„¤ê³„ ì² í•™:**
- **ìµœì‹ ì„± 40%**: ì‹¬ë¦¬í•™/ìê¸°ê³„ë°œ ë¶„ì•¼ëŠ” ìµœì‹  ì—°êµ¬ì™€ íŠ¸ë Œë“œê°€ ì¤‘ìš”
- **ê´€ë ¨ë„ 40%**: ê²€ìƒ‰ ì•Œê³ ë¦¬ì¦˜ì˜ í‚¤ì›Œë“œ ë§¤ì¹­ ì‹ ë¢°
- **ì¥ë¥´ ë§¤ì¹­ 20%**: ì‚¬ìš©ì ì„ í˜¸ ë°˜ì˜ (ë³´ì¡° ì§€í‘œ)

### ì˜ˆì‹œ

| ì±… ì œëª© | ì¶œíŒì¼ | ìˆœìœ„ | ìµœì‹ ì„± | ê´€ë ¨ë„ | ì¥ë¥´ | **ìµœì¢… ì ìˆ˜** |
|---------|--------|------|--------|--------|------|---------------|
| ë§ˆìŒì±™ê¹€ ëª…ìƒ | 2024-03 | 1ìœ„ | 0.95 | 1.00 | 1.00 | **0.980** |
| ê°ì • ì¡°ì ˆì˜ ê¸°ìˆ  | 2022-08 | 3ìœ„ | 0.74 | 0.85 | 0.70 | **0.756** |
| í–‰ë³µì˜ ì‹¬ë¦¬í•™ | 2018-01 | 2ìœ„ | 0.32 | 0.92 | 1.00 | **0.696** |

â†’ "ë§ˆìŒì±™ê¹€ ëª…ìƒ"ì´ ìµœì‹ ì„±ê³¼ ê´€ë ¨ë„ ëª¨ë‘ ë†’ì•„ 1ìˆœìœ„ ì¶”ì²œ

## ğŸ“¡ API ì—”ë“œí¬ì¸íŠ¸

### 1. ë£¨íŠ¸ ì—”ë“œí¬ì¸íŠ¸

```http
GET /
```

**ì‘ë‹µ:**
```json
{
  "message": "ì‹¬ë¦¬ ìƒë‹´ ì±—ë´‡ + ë„ì„œ ì¶”ì²œ ì‹œìŠ¤í…œ API",
  "version": "1.0.0",
  "endpoints": {
    "chat": "/chat",
    "analyze_and_recommend": "/analyze-and-recommend",
    "conversation": "/conversation/{conversation_id}"
  }
}
```

### 2. ì‹¬ë¦¬ ìƒë‹´ ëŒ€í™”

```http
POST /chat
```

**ìš”ì²­ ë³¸ë¬¸:**
```json
{
  "messages": [
    {
      "role": "user",
      "content": "ìš”ì¦˜ ì§ì¥ì—ì„œ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ë§ì´ ë°›ì•„ìš”."
    }
  ],
  "user_id": "user123"
}
```

**ì‘ë‹µ:**
```json
{
  "response": "ì§ì¥ì—ì„œ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ë§ì´ ë°›ìœ¼ì‹œëŠ”êµ°ìš”. í˜ë“œì‹œê² ì–´ìš”...",
  "conversation_id": "user123"
}
```

### 3. ìƒë‹´ ë¶„ì„ ë° ë„ì„œ ì¶”ì²œ

```http
POST /analyze-and-recommend
```

**ìš”ì²­ ë³¸ë¬¸:**
```json
{
  "messages": [
    {
      "role": "user",
      "content": "ìš”ì¦˜ ì§ì¥ì—ì„œ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ë§ì´ ë°›ì•„ìš”. ë¶ˆì•ˆí•˜ê³  ì ë„ ì˜ ì•ˆ ì™€ìš”."
    },
    {
      "role": "assistant",
      "content": "í˜ë“œì‹œê² ì–´ìš”. êµ¬ì²´ì ìœ¼ë¡œ ì–´ë–¤ ìƒí™©ì´ ê°€ì¥ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ì£¼ë‚˜ìš”?"
    },
    {
      "role": "user",
      "content": "ìƒì‚¬ê°€ ê³„ì† ë¬´ë¦¬í•œ ìš”êµ¬ë¥¼ í•˜ëŠ”ë° ê±°ì ˆí•˜ì§€ ëª»í•˜ê² ì–´ìš”."
    }
  ],
  "conversation_id": "conv123"
}
```

**ì‘ë‹µ:**
```json
{
  "summary": {
    "main_concerns": ["ì§ì¥ ìŠ¤íŠ¸ë ˆìŠ¤", "ìƒì‚¬ì™€ì˜ ê´€ê³„", "ê±°ì ˆ ë¶ˆê°€"],
    "emotions": ["ë¶ˆì•ˆ", "ìŠ¤íŠ¸ë ˆìŠ¤", "ë¬´ë ¥ê°"],
    "cognitive_patterns": ["íŒŒêµ­í™”", "ê³¼ë„í•œ ì±…ì„ê°"],
    "recommendations": ["ê²½ê³„ ì„¤ì •", "ìê¸°ì£¼ì¥ ì—°ìŠµ", "ìŠ¤íŠ¸ë ˆìŠ¤ ê´€ë¦¬"],
    "keywords": ["ìŠ¤íŠ¸ë ˆìŠ¤ ê´€ë¦¬", "ìê¸°ì£¼ì¥", "ë¶ˆì•ˆ ê·¹ë³µ"]
  },
  "recommended_books": [
    {
      "title": "ìŠ¤íŠ¸ë ˆìŠ¤ ì œë¡œ",
      "author": "í™ê¸¸ë™",
      "publisher": "ABC ì¶œíŒì‚¬",
      "description": "ìŠ¤íŠ¸ë ˆìŠ¤ ê´€ë¦¬ì™€ ë§ˆìŒì±™ê¹€ ê¸°ë²•...",
      "isbn": "1234567890",
      "cover_image": "https://...",
      "link": "https://...",
      "relevance_reason": "ì§ì¥ ìŠ¤íŠ¸ë ˆìŠ¤ì™€ ë¶ˆì•ˆ ê´€ë¦¬ì— ë„ì›€ì´ ë˜ëŠ” êµ¬ì²´ì ì¸ ê¸°ë²•ì„ ì œê³µí•©ë‹ˆë‹¤."
    }
  ],
  "generated_at": "2025-01-10T12:00:00"
}
```

### 4. ëŒ€í™” ì¡°íšŒ

```http
GET /conversation/{conversation_id}
```

**ì‘ë‹µ:**
```json
{
  "conversation_id": "user123",
  "messages": [...],
  "message_count": 5
}
```

### 5. í—¬ìŠ¤ ì²´í¬

```http
GET /health
```

**ì‘ë‹µ:**
```json
{
  "status": "healthy",
  "timestamp": "2025-01-10T12:00:00",
  "services": {
    "chatbot": "operational",
    "analyzer": "operational",
    "recommender": "operational"
  }
}
```

## ğŸ“ ì˜ˆì‹œ

### Gradio ì›¹ ë°ëª¨ ì‚¬ìš© ì˜ˆì‹œ

#### 1. ì‹¬ë¦¬ ìƒë‹´ ì‹œì‘

**ìƒë‹´ íƒ­**ì—ì„œ ë©”ì‹œì§€ ì…ë ¥:
```
ì‚¬ìš©ì: "ìš”ì¦˜ ì§ì¥ì—ì„œ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ë§ì´ ë°›ì•„ìš”. ìƒì‚¬ê°€ ê³„ì† ë¬´ë¦¬í•œ ìš”êµ¬ë¥¼ í•˜ëŠ”ë° ê±°ì ˆí•˜ì§€ ëª»í•˜ê² ì–´ìš”."

ì±—ë´‡: "ì§ì¥ì—ì„œ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ë§ì´ ë°›ìœ¼ì‹œëŠ”êµ°ìš”. íŠ¹íˆ ìƒì‚¬ì˜ ë¬´ë¦¬í•œ ìš”êµ¬ì— ê±°ì ˆí•˜ì§€ ëª»í•˜ëŠ” ìƒí™©ì´ í˜ë“œì‹œê² ì–´ìš”..."
```

#### 2. ëŒ€í™” ë¶„ì„ ë° ë„ì„œ ì¶”ì²œ

**ë¶„ì„ ë° ì¶”ì²œ íƒ­**ì—ì„œ ğŸ” ë²„íŠ¼ í´ë¦­:

**ì‹¬ë¦¬ ë¶„ì„ ê²°ê³¼:**
- ì£¼ìš” ê³ ë¯¼: ì§ì¥ ìŠ¤íŠ¸ë ˆìŠ¤, ê±°ì ˆ ë¶ˆê°€, ìê¸°ì£¼ì¥ ì–´ë ¤ì›€
- ê°ì • ìƒíƒœ: ë¶ˆì•ˆ, ë¬´ë ¥ê°, ìŠ¤íŠ¸ë ˆìŠ¤
- ì¸ì§€ íŒ¨í„´: íŒŒêµ­í™”, ê³¼ë„í•œ ì±…ì„ê°
- ê¶Œì¥ ì „ëµ: ê²½ê³„ ì„¤ì •, ìê¸°ì£¼ì¥ ì—°ìŠµ

**ì¶”ì²œ ë„ì„œ:**
1. ìŠ¤íŠ¸ë ˆìŠ¤ ì œë¡œ (í™ê¸¸ë™ ì €)
   - ì¶”ì²œ ì´ìœ : ì§ì¥ ìŠ¤íŠ¸ë ˆìŠ¤ ê´€ë¦¬ ê¸°ë²• ì œê³µ
2. ê±°ì ˆí•  ìˆ˜ ìˆëŠ” ìš©ê¸° (ê¹€ì² ìˆ˜ ì €)
   - ì¶”ì²œ ì´ìœ : ìê¸°ì£¼ì¥ í›ˆë ¨ ë°©ë²• ìˆ˜ë¡

### Python í´ë¼ì´ì–¸íŠ¸ ì˜ˆì‹œ (FastAPI)

```python
import requests

# 1. ì‹¬ë¦¬ ìƒë‹´ ëŒ€í™”
response = requests.post(
    "http://localhost:8000/chat",
    json={
        "messages": [
            {"role": "user", "content": "ìš”ì¦˜ ìš°ìš¸í•´ìš”. ì–´ë–»ê²Œ í•´ì•¼ í• ê¹Œìš”?"}
        ],
        "user_id": "user456"
    }
)
print(response.json())

# 2. ìƒë‹´ ë¶„ì„ ë° ë„ì„œ ì¶”ì²œ
response = requests.post(
    "http://localhost:8000/analyze-and-recommend",
    json={
        "messages": [
            {"role": "user", "content": "ìš”ì¦˜ ìš°ìš¸í•´ìš”. ì•„ë¬´ê²ƒë„ í•˜ê³  ì‹¶ì§€ ì•Šì•„ìš”."},
            {"role": "assistant", "content": "ìš°ìš¸í•œ ê¸°ë¶„ì´ ë“œì‹œëŠ”êµ°ìš”. ì–¸ì œë¶€í„° ê·¸ëŸ¬ì…¨ë‚˜ìš”?"},
            {"role": "user", "content": "í•œ ë‹¬ ì •ë„ ëì–´ìš”. ì ë„ ë§ì´ ìê³  ì‹ìš•ë„ ì—†ì–´ìš”."}
        ],
        "conversation_id": "conv456"
    }
)

result = response.json()
print("=== ì‹¬ë¦¬ ë¶„ì„ ===")
print(f"ì£¼ìš” ê³ ë¯¼: {result['summary']['main_concerns']}")
print(f"ê°ì • ìƒíƒœ: {result['summary']['emotions']}")

print("\n=== ì¶”ì²œ ë„ì„œ ===")
for i, book in enumerate(result['recommended_books'], 1):
    print(f"{i}. {book['title']} - {book['author']}")
    print(f"   ì¶”ì²œ ì´ìœ : {book['relevance_reason']}\n")
```

### cURL ì˜ˆì‹œ

```bash
# ì‹¬ë¦¬ ìƒë‹´ ëŒ€í™”
curl -X POST "http://localhost:8000/chat" \
  -H "Content-Type: application/json" \
  -d '{
    "messages": [
      {"role": "user", "content": "ìš”ì¦˜ ì§ì¥ì—ì„œ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ë§ì´ ë°›ì•„ìš”."}
    ],
    "user_id": "user123"
  }'

# ìƒë‹´ ë¶„ì„ ë° ë„ì„œ ì¶”ì²œ
curl -X POST "http://localhost:8000/analyze-and-recommend" \
  -H "Content-Type: application/json" \
  -d '{
    "messages": [
      {"role": "user", "content": "ìš”ì¦˜ ì§ì¥ì—ì„œ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ë§ì´ ë°›ì•„ìš”."},
      {"role": "assistant", "content": "í˜ë“œì‹œê² ì–´ìš”. êµ¬ì²´ì ìœ¼ë¡œ ì–´ë–¤ ìƒí™©ì´ ê°€ì¥ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ì£¼ë‚˜ìš”?"}
    ],
    "conversation_id": "conv123"
  }'
```

## ğŸ”‘ í™˜ê²½ ë³€ìˆ˜

| ë³€ìˆ˜ëª… | ì„¤ëª… | í•„ìˆ˜ ì—¬ë¶€ |
|--------|------|-----------|
| `ANTHROPIC_API_KEY` | Anthropic Claude API í‚¤ | í•„ìˆ˜ |
| `NAVER_CLIENT_ID` | ë„¤ì´ë²„ ê°œë°œì ì„¼í„° Client ID | í•„ìˆ˜ |
| `NAVER_CLIENT_SECRET` | ë„¤ì´ë²„ ê°œë°œì ì„¼í„° Client Secret | í•„ìˆ˜ |

## ğŸ”§ ë¬¸ì œ í•´ê²°

### 1. Python ë²„ì „ ì˜¤ë¥˜ (Mac)

**ì¦ìƒ:** 
- `ERROR: Could not find a version that satisfies the requirement crewai>=0.28.0`
- `No matching distribution found for crewai>=0.28.0`
- `No executables are provided by package 'crewai'; removing tool`

**ì›ì¸:** Python ë²„ì „ì´ 3.10 ë¯¸ë§Œì…ë‹ˆë‹¤. `crewai>=0.28.0`ì€ Python 3.10 ì´ìƒì´ í•„ìš”í•©ë‹ˆë‹¤.

**í•´ê²° ë°©ë²•:**

```bash
# 1. í˜„ì¬ Python ë²„ì „ í™•ì¸
python3 --version

# 2. Python 3.12 ì„¤ì¹˜ (Homebrew ì‚¬ìš©)
brew install python@3.12

# 3. ì„¤ì¹˜ëœ Python 3.12ë¡œ í”„ë¡œì íŠ¸ ì‹¤í–‰
python3.12 -m pip install -r requirements.txt
python3.12 app_gradio.py

# ë˜ëŠ” ê°€ìƒí™˜ê²½ ì‚¬ìš© (ê¶Œì¥)
python3.12 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
python app_gradio.py
```

**ì°¸ê³ **: `entrypoints` ì˜¤ë¥˜ëŠ” ì¼ë°˜ì ìœ¼ë¡œ ê²½ê³ ì´ë©°, Python ë²„ì „ì´ ì˜¬ë°”ë¥´ë©´ ì •ìƒ ì‘ë™í•©ë‹ˆë‹¤.

#### uv í™˜ê²½ì—ì„œì˜ í•´ê²° ë°©ë²•

```bash
# 1. Python 3.12 ëª…ì‹œì  ì„¤ì • (í•„ìˆ˜!)
uv python pin 3.12

# 2. ê°€ìƒí™˜ê²½ ì¬ìƒì„± ë° ì˜ì¡´ì„± ì„¤ì¹˜
uv sync
uv pip install -r requirements.txt

# 3. ì„¤ì¹˜ í™•ì¸
uv run python -c "import crewai; print('OK')"

# 4. ì•± ì‹¤í–‰
uv run python app_gradio.py
```

**ì¤‘ìš”**: uvëŠ” ìì²´ Python ë²„ì „ ê´€ë¦¬ë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ, `uv python pin 3.12`ë¡œ ëª…ì‹œì ìœ¼ë¡œ Python ë²„ì „ì„ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤.

### 2. ModuleNotFoundError

**ì¦ìƒ:** `No module named 'anthropic'` ë“±

**í•´ê²° ë°©ë²•:**

**pip ì‚¬ìš©:**
```bash
pip install -r requirements.txt
```

**uv ì‚¬ìš© (ë¹ ë¥¸ ì„¤ì¹˜):**
```bash
pip install uv
uv pip install -r requirements.txt
```

**ê°œë³„ ì„¤ì¹˜:**
```bash
pip install anthropic crewai crewai-tools python-dotenv pydantic requests gradio
```

### 3. ë„¤ì´ë²„ API ì˜¤ë¥˜

**ì¦ìƒ:** `401 Unauthorized` ë˜ëŠ” ì±… ê²€ìƒ‰ ì‹¤íŒ¨

**í•´ê²° ë°©ë²•:**
- ë„¤ì´ë²„ ê°œë°œì ì„¼í„°ì—ì„œ API í‚¤ í™•ì¸
- ê²€ìƒ‰ API ì‚¬ìš© ì‹ ì²­ì´ ìŠ¹ì¸ë˜ì—ˆëŠ”ì§€ í™•ì¸
- API ì‚¬ìš©ëŸ‰ ì œí•œ í™•ì¸ (í•˜ë£¨ 25,000íšŒ)
- `.env` íŒŒì¼ì˜ `NAVER_CLIENT_ID`ì™€ `NAVER_CLIENT_SECRET` í™•ì¸

### 4. Anthropic API ì˜¤ë¥˜

**ì¦ìƒ:** `401 Unauthorized` ë˜ëŠ” ëŒ€í™” ìƒì„± ì‹¤íŒ¨

**í•´ê²° ë°©ë²•:**
- `.env` íŒŒì¼ì˜ `ANTHROPIC_API_KEY` í™•ì¸
- API í‚¤ê°€ ìœ íš¨í•œì§€ Anthropic ëŒ€ì‹œë³´ë“œì—ì„œ í™•ì¸
- ì‚¬ìš©ëŸ‰ ì œí•œ í™•ì¸

### 5. í¬íŠ¸ ì¶©ëŒ

**ì¦ìƒ:** `Address already in use`

**í•´ê²° ë°©ë²•:**
```bash
# ë‹¤ë¥¸ í¬íŠ¸ë¡œ ì‹¤í–‰
python app_gradio.py  # Gradio ì•±ì˜ ê²½ìš° í¬íŠ¸ ë³€ê²½ì€ ì½”ë“œ ìˆ˜ì • í•„ìš”

# ë˜ëŠ” ê¸°ì¡´ í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ
# Mac/Linux:
lsof -ti:7860 | xargs kill -9

# Windows:
netstat -ano | findstr :7860
taskkill /PID <PID> /F
```

## ğŸ“š ì¶”ê°€ ë¦¬ì†ŒìŠ¤

### ì‹¬ë¦¬í•™ í”„ë ˆì„ì›Œí¬
- [ì¸ì§€í–‰ë™ì¹˜ë£Œ (CBT)](https://www.apa.org/ptsd-guideline/patients-and-families/cognitive-behavioral)
- [ìê¸°ê²°ì •ì´ë¡ ](https://selfdeterminationtheory.org/)
- [ìŠ¤íŠ¸ë ˆìŠ¤ ëŒ€ì²˜ ì´ë¡ ](https://www.apa.org/topics/stress)

### ê¸°ìˆ  ë¬¸ì„œ
- [CrewAI ê³µì‹ ë¬¸ì„œ](https://docs.crewai.com/)
- [Anthropic Claude API](https://docs.anthropic.com/)
- [ë„¤ì´ë²„ ê²€ìƒ‰ API](https://developers.naver.com/docs/search/book/)
- [Gradio ê³µì‹ ë¬¸ì„œ](https://www.gradio.app/docs/)
- [uv - ë¹ ë¥¸ Python íŒ¨í‚¤ì§€ ê´€ë¦¬ì](https://github.com/astral-sh/uv)

## ğŸ¤ ê¸°ì—¬í•˜ê¸°

ì´ í”„ë¡œì íŠ¸ì— ê¸°ì—¬í•˜ê³  ì‹¶ìœ¼ì‹œë‹¤ë©´:

1. ì´ìŠˆë¥¼ ìƒì„±í•˜ì—¬ ê°œì„  ì‚¬í•­ ì œì•ˆ
2. Fork & Pull Request
3. ì½”ë“œ ë¦¬ë·° ì°¸ì—¬
4. ë¬¸ì„œ ê°œì„  ë„ì›€

## ğŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ë¥¼ ë”°ë¦…ë‹ˆë‹¤.

## ğŸ™ ê°ì‚¬ì˜ ë§

- [CrewAI](https://www.crewai.com/) - ë©€í‹° ì—ì´ì „íŠ¸ í”„ë ˆì„ì›Œí¬
- [Anthropic](https://www.anthropic.com/) - Claude Sonnet 4 API
- [ë„¤ì´ë²„ ê°œë°œì ì„¼í„°](https://developers.naver.com/) - ë„ì„œ ê²€ìƒ‰ API
- [Gradio](https://www.gradio.app/) - UI í”„ë ˆì„ì›Œí¬
- **SKILL.md** - ì‹¬ë¦¬í•™ ë¶„ì„ í”„ë ˆì„ì›Œí¬

## ğŸ“§ ë¬¸ì˜

ë¬¸ì œê°€ ë°œìƒí•˜ê±°ë‚˜ ì§ˆë¬¸ì´ ìˆìœ¼ì‹œë©´ ì´ìŠˆë¥¼ ìƒì„±í•´ì£¼ì„¸ìš”.

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸:** 2025ë…„ 12ì›” 18ì¼  
**ë²„ì „:** 3.1.0 (Hybrid Ranking Algorithm)
**Architecture:** CrewAI Sequential Multi-Agent System  
**New Features:** 
- í•˜ì´ë¸Œë¦¬ë“œ ë„ì„œ ë­í‚¹ ì•Œê³ ë¦¬ì¦˜ (ë‚ ì§œ/ê´€ë ¨ë„/ì¥ë¥´ ê°€ì¤‘ì¹˜)
- uv íŒ¨í‚¤ì§€ ê´€ë¦¬ì ì§€ì›
- Python 3.12+ ìµœì í™”

